import streamlit as st

# 페이지 설정
st.set_page_config(
    page_title="MBTI 진로 추천 🌟",
    page_icon="🚀",
    layout="wide",
)

# 화려한 CSS 스타일 및 애니메이션
st.markdown("""
<style>
body {
    background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
}
.stApp {
    background: rgba(255, 255, 255, 0.9) !important;
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to   { opacity: 1; transform: translateY(0); }
}
.job-card {
    background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
    border-radius: 15px;
    margin: 1rem 0;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
}
.job-card:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
}
.job-card summary {
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    padding: 1rem;
    list-style: none;
    outline: none;
}
.job-card summary::-webkit-details-marker {
    display: none;
}
.job-card[open] {
    background: linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%);
}
.job-desc {
    padding: 1rem;
    font-size: 1rem;
    line-height: 1.4;
    animation: fadeIn 0.4s ease-out;
}
</style>
""", unsafe_allow_html=True)

# 헤더
st.markdown("# 🎉 당신만을 위한 MBTI 직업 추천 🎉")
st.markdown("---")

# MBTI 리스트
mbti_list = [
    "✨ INFP ✨", "🌟 INFJ 🌟", "💎 INTJ 💎", "🔑 ISFJ 🔑",
    "❄️ ISTJ ❄️", "🎨 ISTP 🎨", "🌊 ISFP 🌊", "⚡ ESTP ⚡",
    "🌈 ESFP 🌈", "🌻 ESFJ 🌻", "🚀 ENFJ 🚀", "💡 ENTP 💡",
    "🎯 ESTJ 🎯", "🔥 ENTJ 🔥", "🔍 ISFJ 🔍", "✨ ENFP ✨"
]

# 사이드바 선택
st.sidebar.markdown("## 🌈 성격 유형 선택")
selected_mbti = st.sidebar.selectbox("당신의 MBTI를 선택하세요:", mbti_list)

# 추천 매핑
recommendations = {
    "✨ INFP ✨": ["🎨 아티스트", "✍️ 작가", "🧘‍♂️ 상담가"],
    "🌟 INFJ 🌟": ["🧑‍🏫 교수", "🖋️ 편집자", "🌱 사회복지사"],
    "💎 INTJ 💎": ["🔬 연구원", "📊 데이터 분석가", "💻 소프트웨어 엔지니어"],
    "🔑 ISFJ 🔑": ["🏥 간호사", "👩‍🏫 교사", "🏛️ 박물관 큐레이터"],
    "❄️ ISTJ ❄️": ["📚 행정가", "⚖️ 변호사", "🏗️ 건축가"],
    "🎨 ISTP 🎨": ["🚗 자동차 정비사", "🔧 기계 엔지니어", "🎥 영화 촬영감독"],
    "🌊 ISFP 🌊": ["📸 사진작가", "🎵 뮤지션", "👗 패션 디자이너"],
    "⚡ ESTP ⚡": ["🏀 프로 운동선수", "💼 세일즈 전문가", "🎤 이벤트 기획자"],
    "🌈 ESFP 🌈": ["💃 무용가", "🎭 배우", "🥳 파티 플래너"],
    "🌻 ESFJ 🌻": ["🍽️ 호텔 매니저", "👨‍👩‍👧‍👦 HR 담당자", "🎓 유치원 교사"],
    "🚀 ENFJ 🚀": ["🎤 연설가", "📣 마케팅 매니저", "🕊️ NGO 활동가"],
    "💡 ENTP 💡": ["💡 스타트업 창업가", "🧪 연구 발명가", "📺 방송인"],
    "🎯 ESTJ 🎯": ["🏛️ 공무원", "📈 경영 컨설턴트", "💼 CEO"],
    "🔥 ENTJ 🔥": ["📊 전략 기획자", "🏢 기업 이사", "🚀 프로젝트 매니저"],
    "🔍 ISFJ 🔍": ["🏥 물리치료사", "🧶 공예가", "📔 기록물 관리자"],
    "✨ ENFP ✨": ["🎨 그래픽 디자이너", "✈️ 여행 작가", "🎮 게임 개발자"],
}

# 직업별 상세 설명
job_descriptions = {
    "🎨 아티스트": "창의적인 아이디어를 캔버스나 조각 등 다양한 매체에 표현해, 예술 작품을 통해 관객과 감성적으로 소통합니다.",
    "✍️ 작가": "스토리텔링과 문장력을 활용해 소설, 에세이, 칼럼 등을 집필하며 독자에게 새로운 시각과 감동을 선사합니다.",
    "🧘‍♂️ 상담가": "내담자의 심리 상태를 이해하고 공감하며, 상담 기법을 통해 정서적 안정을 돕고 문제 해결을 지원합니다.",
    "🧑‍🏫 교수": "특정 분야의 전문 지식을 연구·교육하며, 논문 작성과 학술 토론을 통해 학문 발전에 기여합니다.",
    "🖋️ 편집자": "원고를 검토·수정해 문장의 흐름과 구조를 다듬고, 출판물의 품질과 완성도를 책임집니다.",
    "🌱 사회복지사": "취약 계층을 위한 복지 프로그램을 기획·운영하며, 지역사회와 협력해 사회 문제 해결에 앞장섭니다.",
    "🔬 연구원": "실험 설계와 데이터 분석을 통해 과학적 발견을 이루고, 논문 발표로 지식 발전에 기여합니다.",
    "📊 데이터 분석가": "빅데이터를 수집·정제·시각화해 인사이트를 도출하고, 이를 바탕으로 비즈니스 전략을 제안합니다.",
    "💻 소프트웨어 엔지니어": "소프트웨어 요구사항을 설계·개발·테스트해 안정적인 시스템을 구축하고 유지보수합니다.",
    "🏥 간호사": "환자의 건강 상태를 모니터링하고 치료를 보조하며, 심리적 지지를 통해 환자의 회복을 돕습니다.",
    "👩‍🏫 교사": "학생의 학습 목표 달성을 위해 맞춤형 수업을 설계·운영하고, 성장 과정을 지도·지원합니다.",
    "🏛️ 박물관 큐레이터": "전시 기획과 유물 관리를 통해 문화유산을 보존하며, 관람객에게 교육적 경험을 제공합니다.",
    "📚 행정가": "공공기관의 정책 기획·집행을 관리하고, 행정 절차를 통해 조직의 목표 달성을 지원합니다.",
    "⚖️ 변호사": "법률 자문과 소송 대리를 통해 의뢰인의 권리를 보호하고, 공정한 법률 서비스를 제공합니다.",
    "🏗️ 건축가": "공간의 기능성과 미학을 고려해 건축물 설계·감리하며, 지속 가능한 디자인을 추구합니다.",
    "🚗 자동차 정비사": "차량의 구조와 전자장치 상태를 진단·수리해 안전하고 효율적인 주행 환경을 유지합니다.",
    "🔧 기계 엔지니어": "산업용 기계 시스템을 설계·개발·최적화해 생산 라인의 효율성과 안정성을 높입니다.",
    "🎥 영화 촬영감독": "카메라 워크와 조명 연출을 총괄해 시각적 스토리텔링을 완성하며, 영화의 품질을 좌우합니다.",
    "📸 사진작가": "빛과 구도를 활용해 순간을 포착하고, 사진 작품을 통해 이야기를 전달합니다.",
    "🎵 뮤지션": "악기 연주와 작곡을 통해 음악 작품을 창작·공연하며, 청중과 감성적 유대감을 형성합니다.",
    "👗 패션 디자이너": "의상 디자인과 컬렉션 기획을 통해 트렌드를 선도하고, 브랜드 아이덴티티를 구현합니다.",
    "🏀 프로 운동선수": "체계적인 훈련과 전략 분석을 통해 최고의 경기력을 발휘하며, 팀 승리에 기여합니다.",
    "💼 세일즈 전문가": "고객 니즈를 분석해 최적의 솔루션을 제안하고, 관계 관리를 통해 매출을 극대화합니다.",
    "🎤 이벤트 기획자": "행사 컨셉 수립부터 실행까지 예산·장소·스태프를 조율해 성공적인 이벤트를 만듭니다.",
    "💃 무용가": "신체 표현을 통해 감정을 전달하고, 무대 퍼포먼스로 관객에게 몰입형 경험을 제공합니다.",
    "🎭 배우": "대본을 해석해 캐릭터를 구현하고, 연기력으로 관객의 공감과 몰입을 이끌어냅니다.",
    "🥳 파티 플래너": "테마 기획, 장식, 프로그램 운영까지 총괄해 기억에 남는 파티를 기획·진행합니다.",
    "🍽️ 호텔 매니저": "프론트, 객실, 식음료 등 부서를 관리해 고객에게 최상의 서비스를 제공합니다.",
    "👨‍👩‍👧‍👦 HR 담당자": "채용, 교육, 평가 등 인사 전반을 관리하며 직원 만족도와 조직 문화를 개선합니다.",
    "🎓 유치원 교사": "아동 발달 단계에 맞춘 놀이·학습 활동을 설계하고, 안전한 학습 환경을 조성합니다.",
    "🎤 연설가": "명확한 메시지와 스토리텔링으로 청중을 동기부여하고, 강력한 인상을 남깁니다.",
    "📣 마케팅 매니저": "시장 조사와 브랜딩 전략 수립을 통해 제품·서비스의 가치를 효과적으로 알립니다.",
    "🕊️ NGO 활동가": "사회 문제에 대한 인식을 높이고, 캠페인·프로젝트를 통해 변화를 이끌어냅니다.",
    "💡 스타트업 창업가": "혁신 아이디어를 사업 모델로 발전시켜 시장에 빠르게 적용·검증하고 성장시킵니다.",
    "🧪 연구 발명가": "학제간 연구를 통해 신기술을 발명하고, 특허 출원 과정을 주도합니다.",
    "📺 방송인": "콘텐츠 기획·제작·진행을 통해 대중에게 정보와 엔터테인먼트를 제공합니다.",
    "🏛️ 공무원": "정책 집행과 공공 서비스 제공을 통해 지역사회와 국가 발전에 기여합니다.",
    "📈 경영 컨설턴트": "기업 현황을 진단하고, 데이터 기반 개선 전략을 제시하여 성장을 지원합니다.",
    "💼 CEO": "기업의 비전과 전략을 수립·실행하며 조직을 이끌어 목표 달성을 견인합니다.",
    "📊 전략 기획자": "시장 분석과 장기 목표 설정을 통해 회사의 방향성과 성장을 설계합니다.",
    "🏢 기업 이사": "경영진으로서 의사결정에 참여하고, 부서 간 협업을 조율해 조직 목표를 달성합니다.",
    "🚀 프로젝트 매니저": "일정·예산·인력 관리를 통해 프로젝트가 목표 내에 성공적으로 완료되도록 총괄합니다.",
    "🏥 물리치료사": "환자의 기능 회복을 위해 운동 치료와 도수 치료 등 맞춤형 재활 프로그램을 제공합니다.",
    "🧶 공예가": "재료를 손으로 가공해 실용적 또는 장식적인 공예품을 창작하고 판매합니다.",
    "📔 기록물 관리자": "중요 문서를 분류·보존·디지털화하여 조직의 지식 자산을 체계적으로 관리합니다.",
    "🎨 그래픽 디자이너": "타이포그래피, 이미지, 레이아웃을 조합해 시각적 메시지를 효과적으로 디자인합니다.",
    "✈️ 여행 작가": "여행지를 취재·체험하고, 글과 사진으로 생생한 여행 정보를 독자에게 전달합니다.",
    "🎮 게임 개발자": "게임 기획, 프로그래밍, 그래픽 작업을 통합해 재미있고 몰입도 높은 인터랙티브 경험을 만듭니다.",
}

# 추천 공부 방법
study_methods = {
    "✨ INFP ✨": ["감정일기로 자기 성찰하기", "창의적 글쓰기 워크숍 참여하기"],
    "🌟 INFJ 🌟": ["심리학 서적 탐구하기", "목표 로드맵 작성하기"],
    "💎 INTJ 💎": ["논리적 플래닝 연습하기", "데이터 분석 프로젝트 수행하기"],
    "🔑 ISFJ 🔑": ["케이스 스터디 학습", "조직적 학습 계획 짜기"],
    "❄️ ISTJ ❄️": ["체계적 노트 정리하기", "과거 문제 풀이 반복하기"],
    "🎨 ISTP 🎨": ["실습 위주 도구 사용", "짧은 동영상 강의 시청하기"],
    "🌊 ISFP 🌊": ["시각 자료 활용 학습", "프로젝트 기반 체험 학습하기"],
    "⚡ ESTP ⚡": ["실전 시뮬레이션 참여", "그룹 활동으로 아이디어 교환"],
    "🌈 ESFP 🌈": ["롤플레이 학습", "즉흥 발표 연습"],
    "🌻 ESFJ 🌻": ["토론 모임 참여", "피어 티칭 해보기"],
    "🚀 ENFJ 🚀": ["멘토링 프로그램 참여", "발표 연습과 피드백 받기"],
    "💡 ENTP 💡": ["디베이트 동아리 참여", "자유로운 브레인스토밍"],
    "🎯 ESTJ 🎯": ["목표 설정과 달성 기록하기", "케이스 스터디 분석"],
    "🔥 ENTJ 🔥": ["전략 게임으로 논리력 강화", "팀 프로젝트 리더 역할 맡기"],
    "🔍 ISFJ 🔍": ["상세 계획표 작성", "반복 학습으로 이해 심화"],
    "✨ ENFP ✨": ["아이디어 스케치하기", "다양한 관점으로 토론하기"],
}

# 잘 맞는 친구 유형
compatible_friends = {
    "✨ INFP ✨": ["🌈 ESFP 🌈", "💡 ENTP 💡"],
    "🌟 INFJ 🌟": ["✨ ENFP ✨", "🔑 ISFJ 🔑"],
    "💎 INTJ 💎": ["💡 ENTP 💡", "❄️ ISTJ ❄️"],
    "🔑 ISFJ 🔑": ["🌟 INFJ 🌟", "🌻 ESFJ 🌻"],
    "❄️ ISTJ ❄️": ["🎯 ESTJ 🎯", "💎 INTJ 💎"],
    "🎨 ISTP 🎨": ["⚡ ESTP ⚡", "💡 ENTP 💡"],
    "🌊 ISFP 🌊": ["✨ INFP ✨", "🌈 ESFP 🌈"],
    "⚡ ESTP ⚡": ["🎨 ISTP 🎨", "🌻 ESFJ 🌻"],
    "🌈 ESFP 🌈": ["✨ INFP ✨", "🌊 ISFP 🌊"],
    "🌻 ESFJ 🌻": ["🔑 ISFJ 🔑", "🚀 ENFJ 🚀"],
    "🚀 ENFJ 🚀": ["🌻 ESFJ 🌻", "💡 ENTP 💡"],
    "💡 ENTP 💡": ["✨ INFP ✨", "💎 INTJ 💎"],
    "🎯 ESTJ 🎯": ["❄️ ISTJ ❄️", "🔥 ENTJ 🔥"],
    "🔥 ENTJ 🔥": ["🎯 ESTJ 🎯", "💡 ENTP 💡"],
    "🔍 ISFJ 🔍": ["🌟 INFJ 🌟", "🌻 ESFJ 🌻"],
    "✨ ENFP ✨": ["🌟 INFJ 🌟", "🎨 ISTP 🎨"],
}

# 강점
strengths = {
    "✨ INFP ✨": "높은 공감 능력과 창의성",
    "🌟 INFJ 🌟": "깊은 통찰력과 비전 제시",
    "💎 INTJ 💎": "전략적 사고와 분석력",
    "🔑 ISFJ 🔑": "책임감과 세심함",
    "❄️ ISTJ ❄️": "신뢰성과 조직력",
    "🎨 ISTP 🎨": "문제 해결 능력과 실용성",
    "🌊 ISFP 🌊": "예술적 감수성과 융통성",
    "⚡ ESTP ⚡": "적응력과 에너지",
    "🌈 ESFP 🌈": "사교성과 즉흥성",
    "🌻 ESFJ 🌻": "사람 중심적 리더십",
    "🚀 ENFJ 🚀": "영향력과 동기부여 능력",
    "💡 ENTP 💡": "창의적 아이디어와 토론력",
    "🎯 ESTJ 🎯": "결단력과 실행력",
    "🔥 ENTJ 🔥": "리더십과 목표 지향성",
    "🔍 ISFJ 🔍": "충실함과 지원 능력",
    "✨ ENFP ✨": "열정과 호기심",
}

# 신경 써야 할 점
weaknesses = {
    "✨ INFP ✨": "우유부단함과 과도한 이상주의",
    "🌟 INFJ 🌟": "과도한 부담감과 자기희생",
    "💎 INTJ 💎": "감정 표현 부족과 완벽주의",
    "🔑 ISFJ 🔑": "변화 저항과 자기 주장 어려움",
    "❄️ ISTJ ❄️": "융통성 부족과 고집",
    "🎨 ISTP 🎨": "장기 계획 미흡과 감정 소홀",
    "🌊 ISFP 🌊": "계획성 부족과 충동성",
    "⚡ ESTP ⚡": "장기 목표 집중 어려움과 충동적 발언",
    "🌈 ESFP 🌈": "집중력 부족과 지나친 사교성",
    "🌻 ESFJ 🌻": "비판에 민감하고 과도한 통제욕",
    "🚀 ENFJ 🚀": "타인 기대 과다와 자기 돌봄 소홀",
    "💡 ENTP 💡": "산만함과 꾸준함 부족",
    "🎯 ESTJ 🎯": "권위적 태도와 융통성 부족",
    "🔥 ENTJ 🔥": "과도한 경쟁심과 타인 고려 부족",
    "🔍 ISFJ 🔍": "자기 돌봄 소홀과 과도한 부담",
    "✨ ENFP ✨": "집중력 분산과 감정 기복",
}

# 추천 직업 렌더링
st.markdown(f"## 🔎 {selected_mbti} 유형을 위한 추천 직업 🔍", unsafe_allow_html=True)
for job in recommendations.get(selected_mbti, []):
    desc = job_descriptions.get(job, "상세 설명이 준비 중입니다.")
    html = f"""
<details class="job-card">
  <summary>{job}</summary>
  <div class="job-desc">{desc}</div>
</details>
"""
    st.markdown(html, unsafe_allow_html=True)

# 추가 정보 표시
st.markdown("---")
st.markdown("### 📚 추천 공부 방법")
for method in study_methods.get(selected_mbti, []):
    st.markdown(f"- {method}")

st.markdown("### 🤝 잘 맞는 친구 MBTI 유형")
st.markdown(", ".join(compatible_friends.get(selected_mbti, [])))

st.markdown("### 💪 강점 (좋은 점)")
st.markdown(strengths.get(selected_mbti, "정보가 없습니다."))

st.markdown("### ⚠️ 신경 써야 할 점")
st.markdown(weaknesses.get(selected_mbti, "정보가 없습니다."))

# 푸터
st.markdown("---")
st.markdown("**당신의 꿈을 응원합니다! 🌟 새로운 커리어 여정, 지금 시작해보세요! 🚀**")
