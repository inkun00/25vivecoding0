import streamlit as st

# 페이지 설정
st.set_page_config(
    page_title="MBTI 진로 추천 🌟",
    page_icon="🚀",
    layout="wide",
)

# 화려한 CSS 스타일 및 애니메이션
st.markdown("""
<style>
body {
    background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
}
.stApp {
    background: rgba(255, 255, 255, 0.9) !important;
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to   { opacity: 1; transform: translateY(0); }
}
.job-card {
    background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
    border-radius: 15px;
    margin: 1rem 0;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
}
.job-card:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
}
.job-card summary {
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    padding: 1rem;
    list-style: none;
    outline: none;
}
.job-card summary::-webkit-details-marker {
    display: none;
}
.job-card[open] {
    background: linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%);
}
.job-desc {
    padding: 1rem;
    font-size: 1rem;
    line-height: 1.4;
    animation: fadeIn 0.4s ease-out;
}
</style>
""", unsafe_allow_html=True)

# 헤더
st.markdown("# 🎉 당신만을 위한 MBTI 직업 추천 🎉")
st.markdown("---")

# MBTI 리스트
mbti_list = [
    "✨ INFP ✨", "🌟 INFJ 🌟", "💎 INTJ 💎", "🔑 ISFJ 🔑",
    "❄️ ISTJ ❄️", "🎨 ISTP 🎨", "🌊 ISFP 🌊", "⚡ ESTP ⚡",
    "🌈 ESFP 🌈", "🌻 ESFJ 🌻", "🚀 ENFJ 🚀", "💡 ENTP 💡",
    "🎯 ESTJ 🎯", "🔥 ENTJ 🔥", "🔍 ISFJ 🔍", "✨ ENFP ✨"
]

# 사이드바 선택
st.sidebar.markdown("## 🌈 성격 유형 선택")
selected_mbti = st.sidebar.selectbox("당신의 MBTI를 선택하세요:", mbti_list)

# 추천 매핑
recommendations = {
    "✨ INFP ✨": ["🎨 아티스트", "✍️ 작가", "🧘‍♂️ 상담가"],
    "🌟 INFJ 🌟": ["🧑‍🏫 교수", "🖋️ 편집자", "🌱 사회복지사"],
    "💎 INTJ 💎": ["🔬 연구원", "📊 데이터 분석가", "💻 소프트웨어 엔지니어"],
    "🔑 ISFJ 🔑": ["🏥 간호사", "👩‍🏫 교사", "🏛️ 박물관 큐레이터"],
    "❄️ ISTJ ❄️": ["📚 행정가", "⚖️ 변호사", "🏗️ 건축가"],
    "🎨 ISTP 🎨": ["🚗 자동차 정비사", "🔧 기계 엔지니어", "🎥 영화 촬영감독"],
    "🌊 ISFP 🌊": ["📸 사진작가", "🎵 뮤지션", "👗 패션 디자이너"],
    "⚡ ESTP ⚡": ["🏀 프로 운동선수", "💼 세일즈 전문가", "🎤 이벤트 기획자"],
    "🌈 ESFP 🌈": ["💃 무용가", "🎭 배우", "🥳 파티 플래너"],
    "🌻 ESFJ 🌻": ["🍽️ 호텔 매니저", "👨‍👩‍👧‍👦 HR 담당자", "🎓 유치원 교사"],
    "🚀 ENFJ 🚀": ["🎤 연설가", "📣 마케팅 매니저", "🕊️ NGO 활동가"],
    "💡 ENTP 💡": ["💡 스타트업 창업가", "🧪 연구 발명가", "📺 방송인"],
    "🎯 ESTJ 🎯": ["🏛️ 공무원", "📈 경영 컨설턴트", "💼 CEO"],
    "🔥 ENTJ 🔥": ["📊 전략 기획자", "🏢 기업 이사", "🚀 프로젝트 매니저"],
    "🔍 ISFJ 🔍": ["🏥 물리치료사", "🧶 공예가", "📔 기록물 관리자"],
    "✨ ENFP ✨": ["🎨 그래픽 디자이너", "✈️ 여행 작가", "🎮 게임 개발자"],
}

# 각 직업 설명 매핑
job_descriptions = {
    "🎨 아티스트": "창의적 아이디어를 시각적으로 표현해 회화, 조각 등 다양한 예술 작품을 제작하며 관객과 소통합니다.",
    "✍️ 작가": "스토리텔링과 문장력을 바탕으로 소설, 에세이 등 글을 작성해 독자의 감동을 이끌어냅니다.",
    "🧘‍♂️ 상담가": "내담자의 심리 상태를 이해하고 공감하며, 심리적 안정과 해결책을 제시하는 전문가입니다.",
    "🧑‍🏫 교수": "전문 지식을 연구·교육하며, 학문적 토론과 강의를 통해 학생들의 사고를 발전시킵니다.",
    "🖋️ 편집자": "원고를 검토·수정해 문장과 구조를 다듬고, 출판물의 품질을 책임집니다.",
    "🌱 사회복지사": "사회문제 해결을 위해 지역사회와 협력하고, 지원이 필요한 이들에게 맞춤형 서비스를 제공합니다.",
    "🔬 연구원": "과학적 방법으로 문제를 탐구하고 실험·분석을 통해 새로운 지식을 창출합니다.",
    "📊 데이터 분석가": "데이터를 수집·정제·시각화해 비즈니스 인사이트를 도출하고 전략적 의사결정을 지원합니다.",
    "💻 소프트웨어 엔지니어": "사용자의 요구사항을 반영한 소프트웨어를 설계·개발·테스트하며 안정적인 시스템을 구축합니다.",
    "🏥 간호사": "환자의 건강 상태를 관찰·관리하고 치료 과정을 보조하며, 환자에게 심리적 지지를 제공합니다.",
    "👩‍🏫 교사": "학생의 학습 목표 달성을 돕고, 맞춤형 교수법으로 지식과 가치를 전달합니다.",
    "🏛️ 박물관 큐레이터": "전시 기획과 유물 관리를 통해 문화유산을 보존하고, 방문객에게 교육적 경험을 제공합니다.",
    "📚 행정가": "공공기관의 정책 수립·운영을 관리하며, 조직의 목표 달성을 위한 행정 업무를 수행합니다.",
    "⚖️ 변호사": "법률 지식을 바탕으로 의뢰인의 권리를 보호하고, 법적 분쟁 해결을 지원합니다.",
    "🏗️ 건축가": "공간 구성과 디자인을 통해 기능적이고 미적인 건축물을 계획·설계합니다.",
    "🚗 자동차 정비사": "차량의 구조와 전자장치를 진단·수리해 안전한 주행 환경을 유지합니다.",
    "🔧 기계 엔지니어": "기계 시스템을 설계·개발·최적화해 산업 현장의 생산성과 효율을 높입니다.",
    "🎥 영화 촬영감독": "영상미학을 고민하며 카메라 워크·조명 등을 총괄해 영화의 시각적 완성도를 높입니다.",
    "📸 사진작가": "카메라를 통해 순간을 포착하고, 빛과 구도를 활용해 이야기를 전달합니다.",
    "🎵 뮤지션": "악기 연주나 작곡으로 음악을 창작·공연하며, 청중과 감성적 교감을 형성합니다.",
    "👗 패션 디자이너": "의상 디자인과 컬렉션 기획을 통해 트렌드를 선도하고, 브랜드 아이덴티티를 구현합니다.",
    "🏀 프로 운동선수": "지속적인 훈련과 전략 분석으로 경기력을 극대화하며 팀 승리에 기여합니다.",
    "💼 세일즈 전문가": "고객 요구를 파악해 최적의 솔루션을 제안하고, 관계 관리로 매출을 확대합니다.",
    "🎤 이벤트 기획자": "행사 컨셉을 수립하고 예산·장소·스태프를 조율해 원활한 이벤트를 진행합니다.",
    "💃 무용가": "신체 표현을 통해 감정을 전달하고, 무대 위에서 관객에게 몰입형 경험을 선사합니다.",
    "🎭 배우": "연기력을 바탕으로 캐릭터를 구현하고 관객의 감정 이입을 이끌어냅니다.",
    "🥳 파티 플래너": "테마 설정에서부터 장식·프로그램 운영까지, 기억에 남는 파티를 총괄 기획합니다.",
    "🍽️ 호텔 매니저": "프론트·객실·식음료 부서를 관리해 고객에게 최상의 서비스를 제공합니다.",
    "👨‍👩‍👧‍👦 HR 담당자": "채용·교육·평가 등 인사 전반을 관리하며 직원 만족도와 조직 문화를 개선합니다.",
    "🎓 유치원 교사": "아동의 발달 단계에 맞춰 놀이·학습 활동을 설계하고 안전한 교육 환경을 조성합니다.",
    "🎤 연설가": "명확한 메시지 전달과 강력한 스토리텔링으로 청중을 동기부여하고 영감을 줍니다.",
    "📣 마케팅 매니저": "시장 조사·브랜딩 전략을 수립해 제품·서비스의 가치를 효과적으로 알립니다.",
    "🕊️ NGO 활동가": "사회적 이슈 해결을 위해 캠페인·프로젝트를 기획·운영하며 변화를 이끌어냅니다.",
    "💡 스타트업 창업가": "혁신적 아이디어를 사업 모델로 구체화해 시장에 빠르게 적용·검증합니다.",
    "🧪 연구 발명가": "학제간 연구를 통해 새로운 기술·제품을 발명하고 특허 출원 과정을 주도합니다.",
    "📺 방송인": "콘텐츠 기획·진행·제작을 통해 대중에게 정보와 즐거움을 제공합니다.",
    "🏛️ 공무원": "정책 집행과 공공 서비스 제공을 통해 지역사회와 국가 발전에 기여합니다.",
    "📈 경영 컨설턴트": "데이터 분석과 현장 조사를 통해 기업의 문제점을 진단하고 개선 전략을 제시합니다.",
    "💼 CEO": "기업의 비전과 전략을 수립·실행하며 조직 전반을 이끌어 성장을 견인합니다.",
    "📊 전략 기획자": "장기적 목표 설정과 시장 분석을 바탕으로 회사의 전략 방향을 설계합니다.",
    "🏢 기업 이사": "경영진으로서 의사결정에 참여하고 부서 간 협업을 조율하여 조직 목표를 달성합니다.",
    "🚀 프로젝트 매니저": "일정·예산·인력을 관리하며 프로젝트가 목표 내에 완료되도록 총괄합니다.",
    "🏥 물리치료사": "환자의 기능 회복을 돕기 위해 운동 치료·도수 치료 등 맞춤 재활 프로그램을 제공합니다.",
    "🧶 공예가": "직접 손으로 재료를 가공해 실용적이거나 장식적인 공예품을 창작합니다.",
    "📔 기록물 관리자": "중요 문서·자료를 분류·보존·디지털화하여 조직의 지식 자산을 관리합니다.",
    "🎨 그래픽 디자이너": "비주얼 커뮤니케이션을 위해 타이포그래피·이미지·레이아웃을 활용해 디자인을 제작합니다.",
    "✈️ 여행 작가": "여행지를 직접 취재·체험하고, 글과 사진으로 독자에게 생생한 여행 정보를 전달합니다.",
    "🎮 게임 개발자": "게임 기획·프로그래밍·그래픽 작업을 통합해 재미있는 인터랙티브 경험을 창출합니다.",
}

# 추가 기능용 매핑 (기존 그대로 두거나 필요시 추가하세요)
study_methods = {
    "✨ INFP ✨": ["감성 일기를 쓰며 복습하기", "소규모 스터디 그룹에서 토론하기"],
    "🌟 INFJ 🌟": ["체계적인 플래너 작성", "마인드맵으로 정리하기"],
    # ... 나머지 유형도 유사하게 추가
}
compatible_friends = {
    "✨ INFP ✨": ["🌈 ESFP 🌈", "💡 ENTP 💡"],
    "🌟 INFJ 🌟": ["✨ ENFP ✨", "🔑 ISFJ 🔑"],
    # ... 나머지
}
strengths = {
    "✨ INFP ✨": "높은 공감 능력과 창의성",
    "🌟 INFJ 🌟": "통찰력과 강한 직관력",
    # ... 나머지
}
weaknesses = {
    "✨ INFP ✨": "결정을 미루는 경향",
    "🌟 INFJ 🌟": "과도한 자기비판",
    # ... 나머지
}

# 추천 표시
st.markdown(f"## 🔎 {selected_mbti} 유형을 위한 추천 직업 🔍", unsafe_allow_html=True)
for job in recommendations.get(selected_mbti, []):
    desc = job_descriptions.get(job, "상세 설명이 준비 중입니다.")
    html = f"""
<details class="job-card">
  <summary>{job}</summary>
  <div class="job-desc">{desc}</div>
</details>
"""
    st.markdown(html, unsafe_allow_html=True)

# 추가 정보 표시
st.markdown("---")
st.markdown("### 📚 추천 공부 방법")
for method in study_methods.get(selected_mbti, []):
    st.markdown(f"- {method}")

st.markdown("### 🤝 잘 맞는 친구 MBTI 유형")
st.markdown(", ".join(compatible_friends.get(selected_mbti, [])))

st.markdown("### 💪 강점 (좋은 점)")
st.markdown(strengths.get(selected_mbti, "정보가 없습니다."))

st.markdown("### ⚠️ 신경 써야 할 점")
st.markdown(weaknesses.get(selected_mbti, "정보가 없습니다."))

# 푸터
st.markdown("---")
st.markdown("**당신의 꿈을 응원합니다! 🌟 새로운 커리어 여정, 지금 시작해보세요! 🚀**")
